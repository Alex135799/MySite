(function(){var e=[].slice;(function(t,n){"use strict";var i;i=function(){function e(e,n){if(n==null){n={}}this.$element=t(e);this.options=t.extend({},t.fn.bootstrapSwitch.defaults,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")},n);this.prevOptions={};this.$wrapper=t("<div>",{class:function(e){return function(){var t;t=[""+e.options.baseClass].concat(e._getClasses(e.options.wrapperClass));t.push(e.options.state?e.options.baseClass+"-on":e.options.baseClass+"-off");if(e.options.size!=null){t.push(e.options.baseClass+"-"+e.options.size)}if(e.options.disabled){t.push(e.options.baseClass+"-disabled")}if(e.options.readonly){t.push(e.options.baseClass+"-readonly")}if(e.options.indeterminate){t.push(e.options.baseClass+"-indeterminate")}if(e.options.inverse){t.push(e.options.baseClass+"-inverse")}if(e.$element.attr("id")){t.push(e.options.baseClass+"-id-"+e.$element.attr("id"))}return t.join(" ")}}(this)()});this.$container=t("<div>",{class:this.options.baseClass+"-container"});this.$on=t("<span>",{html:this.options.onText,class:this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor});this.$off=t("<span>",{html:this.options.offText,class:this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor});this.$label=t("<span>",{html:this.options.labelText,class:this.options.baseClass+"-label"});this.$element.on("init.bootstrapSwitch",function(t){return function(){return t.options.onInit.apply(e,arguments)}}(this));this.$element.on("switchChange.bootstrapSwitch",function(n){return function(i){if(false===n.options.onSwitchChange.apply(e,arguments)){if(n.$element.is(":radio")){return t("[name='"+n.$element.attr("name")+"']").trigger("previousState.bootstrapSwitch",true)}else{return n.$element.trigger("previousState.bootstrapSwitch",true)}}}}(this));this.$container=this.$element.wrap(this.$container).parent();this.$wrapper=this.$container.wrap(this.$wrapper).parent();this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off);if(this.options.indeterminate){this.$element.prop("indeterminate",true)}this._init();this._elementHandlers();this._handleHandlers();this._labelHandlers();this._formHandler();this._externalLabelHandler();this.$element.trigger("init.bootstrapSwitch",this.options.state)}e.prototype._constructor=e;e.prototype.setPrevOptions=function(){return this.prevOptions=t.extend(true,{},this.options)};e.prototype.state=function(e,n){if(typeof e==="undefined"){return this.options.state}if(this.options.disabled||this.options.readonly){return this.$element}if(this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")){return this.$element}if(this.$element.is(":radio")){t("[name='"+this.$element.attr("name")+"']").trigger("setPreviousOptions.bootstrapSwitch")}else{this.$element.trigger("setPreviousOptions.bootstrapSwitch")}if(this.options.indeterminate){this.indeterminate(false)}e=!!e;this.$element.prop("checked",e).trigger("change.bootstrapSwitch",n);return this.$element};e.prototype.toggleState=function(e){if(this.options.disabled||this.options.readonly){return this.$element}if(this.options.indeterminate){this.indeterminate(false);return this.state(true)}else{return this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",e)}};e.prototype.size=function(e){if(typeof e==="undefined"){return this.options.size}if(this.options.size!=null){this.$wrapper.removeClass(this.options.baseClass+"-"+this.options.size)}if(e){this.$wrapper.addClass(this.options.baseClass+"-"+e)}this._width();this._containerPosition();this.options.size=e;return this.$element};e.prototype.animate=function(e){if(typeof e==="undefined"){return this.options.animate}e=!!e;if(e===this.options.animate){return this.$element}return this.toggleAnimate()};e.prototype.toggleAnimate=function(){this.options.animate=!this.options.animate;this.$wrapper.toggleClass(this.options.baseClass+"-animate");return this.$element};e.prototype.disabled=function(e){if(typeof e==="undefined"){return this.options.disabled}e=!!e;if(e===this.options.disabled){return this.$element}return this.toggleDisabled()};e.prototype.toggleDisabled=function(){this.options.disabled=!this.options.disabled;this.$element.prop("disabled",this.options.disabled);this.$wrapper.toggleClass(this.options.baseClass+"-disabled");return this.$element};e.prototype.readonly=function(e){if(typeof e==="undefined"){return this.options.readonly}e=!!e;if(e===this.options.readonly){return this.$element}return this.toggleReadonly()};e.prototype.toggleReadonly=function(){this.options.readonly=!this.options.readonly;this.$element.prop("readonly",this.options.readonly);this.$wrapper.toggleClass(this.options.baseClass+"-readonly");return this.$element};e.prototype.indeterminate=function(e){if(typeof e==="undefined"){return this.options.indeterminate}e=!!e;if(e===this.options.indeterminate){return this.$element}return this.toggleIndeterminate()};e.prototype.toggleIndeterminate=function(){this.options.indeterminate=!this.options.indeterminate;this.$element.prop("indeterminate",this.options.indeterminate);this.$wrapper.toggleClass(this.options.baseClass+"-indeterminate");this._containerPosition();return this.$element};e.prototype.inverse=function(e){if(typeof e==="undefined"){return this.options.inverse}e=!!e;if(e===this.options.inverse){return this.$element}return this.toggleInverse()};e.prototype.toggleInverse=function(){var e,t;this.$wrapper.toggleClass(this.options.baseClass+"-inverse");t=this.$on.clone(true);e=this.$off.clone(true);this.$on.replaceWith(e);this.$off.replaceWith(t);this.$on=e;this.$off=t;this.options.inverse=!this.options.inverse;return this.$element};e.prototype.onColor=function(e){var t;t=this.options.onColor;if(typeof e==="undefined"){return t}if(t!=null){this.$on.removeClass(this.options.baseClass+"-"+t)}this.$on.addClass(this.options.baseClass+"-"+e);this.options.onColor=e;return this.$element};e.prototype.offColor=function(e){var t;t=this.options.offColor;if(typeof e==="undefined"){return t}if(t!=null){this.$off.removeClass(this.options.baseClass+"-"+t)}this.$off.addClass(this.options.baseClass+"-"+e);this.options.offColor=e;return this.$element};e.prototype.onText=function(e){if(typeof e==="undefined"){return this.options.onText}this.$on.html(e);this._width();this._containerPosition();this.options.onText=e;return this.$element};e.prototype.offText=function(e){if(typeof e==="undefined"){return this.options.offText}this.$off.html(e);this._width();this._containerPosition();this.options.offText=e;return this.$element};e.prototype.labelText=function(e){if(typeof e==="undefined"){return this.options.labelText}this.$label.html(e);this._width();this.options.labelText=e;return this.$element};e.prototype.handleWidth=function(e){if(typeof e==="undefined"){return this.options.handleWidth}this.options.handleWidth=e;this._width();this._containerPosition();return this.$element};e.prototype.labelWidth=function(e){if(typeof e==="undefined"){return this.options.labelWidth}this.options.labelWidth=e;this._width();this._containerPosition();return this.$element};e.prototype.baseClass=function(e){return this.options.baseClass};e.prototype.wrapperClass=function(e){if(typeof e==="undefined"){return this.options.wrapperClass}if(!e){e=t.fn.bootstrapSwitch.defaults.wrapperClass}this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" "));this.$wrapper.addClass(this._getClasses(e).join(" "));this.options.wrapperClass=e;return this.$element};e.prototype.radioAllOff=function(e){if(typeof e==="undefined"){return this.options.radioAllOff}e=!!e;if(e===this.options.radioAllOff){return this.$element}this.options.radioAllOff=e;return this.$element};e.prototype.onInit=function(e){if(typeof e==="undefined"){return this.options.onInit}if(!e){e=t.fn.bootstrapSwitch.defaults.onInit}this.options.onInit=e;return this.$element};e.prototype.onSwitchChange=function(e){if(typeof e==="undefined"){return this.options.onSwitchChange}if(!e){e=t.fn.bootstrapSwitch.defaults.onSwitchChange}this.options.onSwitchChange=e;return this.$element};e.prototype.destroy=function(){var e;e=this.$element.closest("form");if(e.length){e.off("reset.bootstrapSwitch").removeData("bootstrap-switch")}this.$container.children().not(this.$element).remove();this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch");return this.$element};e.prototype._width=function(){var e,t;e=this.$on.add(this.$off);e.add(this.$label).css("width","");t=this.options.handleWidth==="auto"?Math.max(this.$on.width(),this.$off.width()):this.options.handleWidth;e.width(t);this.$label.width(function(e){return function(n,i){if(e.options.labelWidth!=="auto"){return e.options.labelWidth}if(i<t){return t}else{return i}}}(this));this._handleWidth=this.$on.outerWidth();this._labelWidth=this.$label.outerWidth();this.$container.width(this._handleWidth*2+this._labelWidth);return this.$wrapper.width(this._handleWidth+this._labelWidth)};e.prototype._containerPosition=function(e,t){if(e==null){e=this.options.state}this.$container.css("margin-left",function(t){return function(){var n;n=[0,"-"+t._handleWidth+"px"];if(t.options.indeterminate){return"-"+t._handleWidth/2+"px"}if(e){if(t.options.inverse){return n[1]}else{return n[0]}}else{if(t.options.inverse){return n[0]}else{return n[1]}}}}(this));if(!t){return}return setTimeout(function(){return t()},50)};e.prototype._init=function(){var e,t;e=function(e){return function(){e.setPrevOptions();e._width();return e._containerPosition(null,function(){if(e.options.animate){return e.$wrapper.addClass(e.options.baseClass+"-animate")}})}}(this);if(this.$wrapper.is(":visible")){return e()}return t=n.setInterval(function(i){return function(){if(i.$wrapper.is(":visible")){e();return n.clearInterval(t)}}}(this),50)};e.prototype._elementHandlers=function(){return this.$element.on({"setPreviousOptions.bootstrapSwitch":function(e){return function(t){return e.setPrevOptions()}}(this),"previousState.bootstrapSwitch":function(e){return function(t){e.options=e.prevOptions;if(e.options.indeterminate){e.$wrapper.addClass(e.options.baseClass+"-indeterminate")}return e.$element.prop("checked",e.options.state).trigger("change.bootstrapSwitch",true)}}(this),"change.bootstrapSwitch":function(e){return function(n,i){var o;n.preventDefault();n.stopImmediatePropagation();o=e.$element.is(":checked");e._containerPosition(o);if(o===e.options.state){return}e.options.state=o;e.$wrapper.toggleClass(e.options.baseClass+"-off").toggleClass(e.options.baseClass+"-on");if(!i){if(e.$element.is(":radio")){t("[name='"+e.$element.attr("name")+"']").not(e.$element).prop("checked",false).trigger("change.bootstrapSwitch",true)}return e.$element.trigger("switchChange.bootstrapSwitch",[o])}}}(this),"focus.bootstrapSwitch":function(e){return function(t){t.preventDefault();return e.$wrapper.addClass(e.options.baseClass+"-focused")}}(this),"blur.bootstrapSwitch":function(e){return function(t){t.preventDefault();return e.$wrapper.removeClass(e.options.baseClass+"-focused")}}(this),"keydown.bootstrapSwitch":function(e){return function(t){if(!t.which||e.options.disabled||e.options.readonly){return}switch(t.which){case 37:t.preventDefault();t.stopImmediatePropagation();return e.state(false);case 39:t.preventDefault();t.stopImmediatePropagation();return e.state(true)}}}(this)})};e.prototype._handleHandlers=function(){this.$on.on("click.bootstrapSwitch",function(e){return function(t){t.preventDefault();t.stopPropagation();e.state(false);return e.$element.trigger("focus.bootstrapSwitch")}}(this));return this.$off.on("click.bootstrapSwitch",function(e){return function(t){t.preventDefault();t.stopPropagation();e.state(true);return e.$element.trigger("focus.bootstrapSwitch")}}(this))};e.prototype._labelHandlers=function(){return this.$label.on({click:function(e){return e.stopPropagation()},"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(e){return function(t){if(e._dragStart||e.options.disabled||e.options.readonly){return}t.preventDefault();t.stopPropagation();e._dragStart=(t.pageX||t.originalEvent.touches[0].pageX)-parseInt(e.$container.css("margin-left"),10);if(e.options.animate){e.$wrapper.removeClass(e.options.baseClass+"-animate")}return e.$element.trigger("focus.bootstrapSwitch")}}(this),"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(e){return function(t){var n;if(e._dragStart==null){return}t.preventDefault();n=(t.pageX||t.originalEvent.touches[0].pageX)-e._dragStart;if(n<-e._handleWidth||n>0){return}e._dragEnd=n;return e.$container.css("margin-left",e._dragEnd+"px")}}(this),"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(e){return function(t){var n;if(!e._dragStart){return}t.preventDefault();if(e.options.animate){e.$wrapper.addClass(e.options.baseClass+"-animate")}if(e._dragEnd){n=e._dragEnd>-(e._handleWidth/2);e._dragEnd=false;e.state(e.options.inverse?!n:n)}else{e.state(!e.options.state)}return e._dragStart=false}}(this),"mouseleave.bootstrapSwitch":function(e){return function(t){return e.$label.trigger("mouseup.bootstrapSwitch")}}(this)})};e.prototype._externalLabelHandler=function(){var e;e=this.$element.closest("label");return e.on("click",function(t){return function(n){n.preventDefault();n.stopImmediatePropagation();if(n.target===e[0]){return t.toggleState()}}}(this))};e.prototype._formHandler=function(){var e;e=this.$element.closest("form");if(e.data("bootstrap-switch")){return}return e.on("reset.bootstrapSwitch",function(){return n.setTimeout(function(){return e.find("input").filter(function(){return t(this).data("bootstrap-switch")}).each(function(){return t(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",true)};e.prototype._getClasses=function(e){var n,i,o,r;if(!t.isArray(e)){return[this.options.baseClass+"-"+e]}i=[];for(o=0,r=e.length;o<r;o++){n=e[o];i.push(this.options.baseClass+"-"+n)}return i};return e}();t.fn.bootstrapSwitch=function(){var n,o,r;o=arguments[0],n=2<=arguments.length?e.call(arguments,1):[];r=this;this.each(function(){var e,s;e=t(this);s=e.data("bootstrap-switch");if(!s){e.data("bootstrap-switch",s=new i(this,o))}if(typeof o==="string"){return r=s[o].apply(s,n)}});return r};t.fn.bootstrapSwitch.Constructor=i;return t.fn.bootstrapSwitch.defaults={state:true,size:null,animate:true,disabled:false,readonly:false,indeterminate:false,inverse:false,radioAllOff:false,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}})(window.jQuery,window)}).call(this);angular.module("toggle-switch",["ng"]).directive("toggleSwitch",["$compile",function(e){return{restrict:"EA",replace:true,require:"ngModel",scope:{isDisabled:"=",onLabel:"@",offLabel:"@",knobLabel:"@",html:"=",onChange:"&"},template:'<div class="ats-switch" ng-click="toggle()" ng-keypress="onKeyPress($event)" ng-class="{ \'disabled\': isDisabled }" role="switch" aria-checked="{{!!model}}">'+"<div class=\"switch-animate\" ng-class=\"{'switch-off': !model, 'switch-on': model}\">"+'<span class="switch-left"></span>'+'<span class="knob"></span>'+'<span class="switch-right"></span>'+"</div>"+"</div>",compile:function(t,n){if(angular.isUndefined(n.onLabel)){n.onLabel="On"}if(angular.isUndefined(n.offLabel)){n.offLabel="Off"}if(angular.isUndefined(n.knobLabel)){n.knobLabel=" "}if(angular.isUndefined(n.isDisabled)){n.isDisabled=false}if(angular.isUndefined(n.html)){n.html=false}if(angular.isUndefined(n.tabindex)){n.tabindex=0}return function t(i,o,r,s){o.attr("tabindex",n.tabindex);i.toggle=function e(){if(!i.isDisabled){i.model=!i.model;s.$setViewValue(i.model)}i.onChange()};var a=32;i.onKeyPress=function e(t){if(t.charCode==a&&!t.altKey&&!t.ctrlKey&&!t.metaKey){i.toggle();t.preventDefault()}};s.$formatters.push(function(e){return e});s.$parsers.push(function(e){return e});s.$viewChangeListeners.push(function(){i.$eval(n.ngChange)});s.$render=function(){i.model=s.$viewValue};var l=function(t,n){t=angular.element(t);var o=n===true?"ng-bind-html":"ng-bind";t.removeAttr("ng-bind-html");t.removeAttr("ng-bind");if(angular.element(t).hasClass("switch-left"))t.attr(o,"onLabel");if(t.hasClass("knob"))t.attr(o,"knobLabel");if(t.hasClass("switch-right"))t.attr(o,"offLabel");e(t)(i,function(e,n){t.replaceWith(e)})};var c=function(e,t){angular.forEach(e[0].children[0].children,function(e,n){l(e,t)})};i.$watch("html",function(e){c(o,e)})}}}}]);(function(e){var t=function(e){var t=e.module("FSAngular",[]);t.factory("Fullscreen",["$document","$rootScope",function(t,n){var i=t[0];var o=typeof Element!=="undefined"&&"ALLOW_KEYBOARD_INPUT"in Element&&Element.ALLOW_KEYBOARD_INPUT;var r=n.$new();t.on("fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange",function(){r.$emit("FSFullscreen.change",s.isEnabled())});var s={$on:e.bind(r,r.$on),all:function(){s.enable(i.documentElement)},enable:function(e){if(e.requestFullScreen){e.requestFullScreen()}else if(e.mozRequestFullScreen){e.mozRequestFullScreen()}else if(e.webkitRequestFullscreen){if(/Version\/[\d]{1,2}(\.[\d]{1,2}){1}(\.(\d){1,2}){0,1} Safari/.test(navigator.userAgent)){e.webkitRequestFullscreen()}else{e.webkitRequestFullscreen(o)}}else if(e.msRequestFullscreen){e.msRequestFullscreen()}},cancel:function(){if(i.cancelFullScreen){i.cancelFullScreen()}else if(i.mozCancelFullScreen){i.mozCancelFullScreen()}else if(i.webkitExitFullscreen){i.webkitExitFullscreen()}else if(i.msExitFullscreen){i.msExitFullscreen()}},isEnabled:function(){var e=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement||i.msFullscreenElement;return e?true:false},toggleAll:function(){s.isEnabled()?s.cancel():s.all()},isSupported:function(){var e=i.documentElement;var t=e.requestFullScreen||e.mozRequestFullScreen||e.webkitRequestFullscreen||e.msRequestFullscreen;return t?true:false}};return s}]);t.directive("fullscreen",["Fullscreen",function(e){return{link:function(t,n,i){if(i.fullscreen){t.$watch(i.fullscreen,function(t){var i=e.isEnabled();if(t&&!i){e.enable(n[0]);n.addClass("isInFullScreen")}else if(!t&&i){e.cancel();n.removeClass("isInFullScreen")}});var o=e.$on("FSFullscreen.change",function(e,o){if(!o){t.$evalAsync(function(){t.$eval(i.fullscreen+"= false");n.removeClass("isInFullScreen")})}});t.$on("$destroy",function(){o()})}else{if(i.onlyWatchedProperty!==undefined){return}n.on("click",function(t){e.enable(n[0])})}}}}]);return t};if(typeof define==="function"&&define.amd){define("FSAngular",["angular"],function(e){return t(e)})}else if(typeof module!=="undefined"&&module.exports){module.exports=t(e.angular).name}else{t(e.angular)}})(window);!function(e,t){if(typeof module!="undefined"&&module.exports)module.exports=t();else if(typeof define=="function"&&define.amd)define(t);else this[e]=t()}("bowser",function(){var e=true;function t(t){function n(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}function i(e){var n=t.match(e);return n&&n.length>1&&n[2]||""}var o=n(/(ipod|iphone|ipad)/i).toLowerCase(),r=/like android/i.test(t),s=!r&&/android/i.test(t),a=/CrOS/.test(t),l=/silk/i.test(t),c=/sailfish/i.test(t),u=/tizen/i.test(t),f=/(web|hpw)os/i.test(t),d=/windows phone/i.test(t),h=!d&&/windows/i.test(t),p=!o&&!l&&/macintosh/i.test(t),m=!s&&!c&&!u&&!f&&/linux/i.test(t),g=n(/edge\/(\d+(\.\d+)?)/i),b=n(/version\/(\d+(\.\d+)?)/i),v=/tablet/i.test(t),w=!v&&/[^-]mobi/i.test(t),y;if(/opera|opr/i.test(t)){y={name:"Opera",opera:e,version:b||n(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}}else if(/yabrowser/i.test(t)){y={name:"Yandex Browser",yandexbrowser:e,version:b||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}}else if(d){y={name:"Windows Phone",windowsphone:e};if(g){y.msedge=e;y.version=g}else{y.msie=e;y.version=n(/iemobile\/(\d+(\.\d+)?)/i)}}else if(/msie|trident/i.test(t)){y={name:"Internet Explorer",msie:e,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}}else if(a){y={name:"Chrome",chromeos:e,chromeBook:e,chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}}else if(/chrome.+? edge/i.test(t)){y={name:"Microsoft Edge",msedge:e,version:g}}else if(/chrome|crios|crmo/i.test(t)){y={name:"Chrome",chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}}else if(o){y={name:o=="iphone"?"iPhone":o=="ipad"?"iPad":"iPod"};if(b){y.version=b}}else if(c){y={name:"Sailfish",sailfish:e,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}}else if(/seamonkey\//i.test(t)){y={name:"SeaMonkey",seamonkey:e,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}}else if(/firefox|iceweasel/i.test(t)){y={name:"Firefox",firefox:e,version:n(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)};if(/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)){y.firefoxos=e}}else if(l){y={name:"Amazon Silk",silk:e,version:n(/silk\/(\d+(\.\d+)?)/i)}}else if(s){y={name:"Android",version:b}}else if(/phantom/i.test(t)){y={name:"PhantomJS",phantom:e,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}}else if(/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)){y={name:"BlackBerry",blackberry:e,version:b||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}}else if(f){y={name:"WebOS",webos:e,version:b||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)};/touchpad\//i.test(t)&&(y.touchpad=e)}else if(/bada/i.test(t)){y={name:"Bada",bada:e,version:n(/dolfin\/(\d+(\.\d+)?)/i)}}else if(u){y={name:"Tizen",tizen:e,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||b}}else if(/safari/i.test(t)){y={name:"Safari",safari:e,version:b}}else{y={name:n(/^(.*)\/(.*) /),version:i(/^(.*)\/(.*) /)}}if(!y.msedge&&/(apple)?webkit/i.test(t)){y.name=y.name||"Webkit";y.webkit=e;if(!y.version&&b){y.version=b}}else if(!y.opera&&/gecko\//i.test(t)){y.name=y.name||"Gecko";y.gecko=e;y.version=y.version||n(/gecko\/(\d+(\.\d+)?)/i)}if(!y.msedge&&(s||y.silk)){y.android=e}else if(o){y[o]=e;y.ios=e}else if(h){y.windows=e}else if(p){y.mac=e}else if(m){y.linux=e}var $="";if(y.windowsphone){$=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i)}else if(o){$=n(/os (\d+([_\s]\d+)*) like mac os x/i);$=$.replace(/[_\s]/g,".")}else if(s){$=n(/android[ \/-](\d+(\.\d+)*)/i)}else if(y.webos){$=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i)}else if(y.blackberry){$=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i)}else if(y.bada){$=n(/bada\/(\d+(\.\d+)*)/i)}else if(y.tizen){$=n(/tizen[\/\s](\d+(\.\d+)*)/i)}if($){y.osversion=$}var S=$.split(".")[0];if(v||o=="ipad"||s&&(S==3||S==4&&!w)||y.silk){y.tablet=e}else if(w||o=="iphone"||o=="ipod"||s||y.blackberry||y.webos||y.bada){y.mobile=e}if(y.msedge||y.msie&&y.version>=10||y.yandexbrowser&&y.version>=15||y.chrome&&y.version>=20||y.firefox&&y.version>=20||y.safari&&y.version>=6||y.opera&&y.version>=10||y.ios&&y.osversion&&y.osversion.split(".")[0]>=6||y.blackberry&&y.version>=10.1){y.a=e}else if(y.msie&&y.version<10||y.chrome&&y.version<20||y.firefox&&y.version<20||y.safari&&y.version<6||y.opera&&y.version<10||y.ios&&y.osversion&&y.osversion.split(".")[0]<6){y.c=e}else y.x=e;return y}var n=t(typeof navigator!=="undefined"?navigator.userAgent:"");n.test=function(e){for(var t=0;t<e.length;++t){var i=e[t];if(typeof i==="string"){if(i in n){return true}}}return false};n._detect=t;return n});(function(){angular.module("mySite",["ui.bootstrap","ui.calendar","ngRoute"]).value("bowser",bowser);function e(e,t){e.when("/",{templateUrl:"/home/home.view.html",controller:"homeCtrl",controllerAs:"vm"}).when("/login",{templateUrl:"/auth/login/login.view.html",controller:"loginCtrl",controllerAs:"vm"}).when("/register",{templateUrl:"/auth/register/register.view.html",controller:"registerCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"});t.html5Mode({enabled:true,requireBase:false})}angular.module("mySite").config(["$routeProvider","$locationProvider",e])})();(function(){angular.module("mySite").service("videoManip",e);function e(){var e=function(e){var t=angular.element(document.querySelector("#"+e));t[0].pause()};var t=function(e){var t=angular.element(document.querySelector("#"+e));t[0].play()};var n=function(e){var t=angular.element(document.querySelector("#"+e));return!t[0].paused};return{pause:e,play:t,isPlaying:n}}})();(function(){angular.module("mySite").service("browserDetector",e);e.$inject=["bowser"];function e(e){var t=function(){return e.msie&&e.version<9};var n=function(){return e.msie};return{isLtIe9:t,isIe:n}}})();(function(){angular.module("mySite").service("mySiteData",e);e.$inject=["$http"];function e(e){var t=function(){return e.get("/api/blogs")};var n=function(t){return e.get("/api/blog/"+t)};var i=function(t,n){return e.post("/api/locations/"+t+"/reviews",n,{headers:{Authorization:"Bearer "+authentication.getToken()}})};return{blogs:t,blogById:n,addReviewById:i}}})();(function(){angular.module("mySite").service("authentication",e);e.$inject=["$window","$http"];function e(e,t){var n=function(t){e.localStorage["mySite-token"]=t};var i=function(){return e.localStorage["mySite-token"]};var o=function(e){return t.post("/api/register",e).success(function(e){n(e.token)})};var r=function(e){return t.post("/api/login",e).success(function(e){n(e.token)})};var s=function(){e.localStorage.removeItem("mySite-token")};var a=function(){var t=i();if(t){var n=JSON.parse(e.atob(t.split(".")[1]));return n.exp>Date.now()/1e3}else{return false}};var l=function(){if(a()){var t=i();var n=JSON.parse(e.atob(t.split(".")[1]));return{email:n.email,name:n.name}}};var c=function(e){var t=["aol.com","att.net","comcast.net","facebook.com","gmail.com","gmx.com","googlemail.com","google.com","hotmail.com","hotmail.co.uk","mac.com","me.com","mail.com","msn.com","live.com","sbcglobal.net","verizon.net","yahoo.com","yahoo.co.uk","email.com","games.com","gmx.net","hush.com","hushmail.com","icloud.com","inbox.com","lavabit.com","love.com","outlook.com","pobox.com","rocketmail.com","safe-mail.net","wow.com","ygm.com","ymail.com","zoho.com","fastmail.fm","bellsouth.net","charter.net","comcast.net","cox.net","earthlink.net","juno.com","btinternet.com","virginmedia.com","blueyonder.co.uk","freeserve.co.uk","live.co.uk","ntlworld.com","o2.co.uk","orange.net","sky.com","talktalk.co.uk","tiscali.co.uk","virgin.net","wanadoo.co.uk","bt.com","sina.com","qq.com","naver.com","hanmail.net","daum.net","nate.com","yahoo.co.jp","yahoo.co.kr","yahoo.co.id","yahoo.co.in","yahoo.com.sg","yahoo.com.ph","hotmail.fr","live.fr","laposte.net","yahoo.fr","wanadoo.fr","orange.fr","gmx.fr","sfr.fr","neuf.fr","free.fr","gmx.de","hotmail.de","live.de","online.de","t-online.de","web.de","yahoo.de","mail.ru","rambler.ru","yandex.ru","ya.ru","list.ru","hotmail.be","live.be","skynet.be","voo.be","tvcablenet.be","telenet.be","hotmail.com.ar","live.com.ar","yahoo.com.ar","fibertel.com.ar","speedy.com.ar","arnet.com.ar","hotmail.com","gmail.com","yahoo.com.mx","live.com.mx","yahoo.com","hotmail.es","live.com","hotmail.com.mx","prodigy.net.mx","msn.com"];return e.indexOf("@")>0&&e.indexOf("@")<e.length&&e.indexOf(".")>0&&e.indexOf(".")<e.length&&t.indexOf(e.split("@")[1])>-1};return{saveToken:n,getToken:i,register:o,login:r,logout:s,isLoggedIn:a,currentUser:l,isEmail:c}}})();(function(){angular.module("mySite").controller("homeCtrl",e);e.$inject=["$location","browserDetector","videoManip","mySiteData","authentication"];function e(e,t,n,i,o){var r=this;var s="I am getting nausious...";var a="Much Better.";r.pauseplayIcon="pause";r.pauseplayCap=s;r.toFantasy=function(){$window.location.href("/fan/home")};r.pageHeader={title:"Welcome to Big Al's Site!",strapline:"Where all of my dreams come true..."};r.pauseplay=function(){var e="bgvid";if(n.isPlaying(e)){n.pause(e);r.pauseplayIcon="play";r.pauseplayCap=a}else{n.play(e);r.pauseplayIcon="pause";r.pauseplayCap=s}};r.webm="/videos/deep_blue_sky.webm";r.mp4="/videos/deep_blue_sky.mp4";r.img="/images/welcome_image.jpeg";r.yahooimg="/images/yahoo.png";r.calimg="/images/calendar.png";r.blogimg="/images/blog.png";r.fbimg="/images/facebook.png";var l=function(e){r.blogData=e.data};var c=function(e){console.log(e);r.pageHeader={title:"error in api"}};i.blogs().then(l,c);r.goTo=function(t){e.path("/blog/"+t)};r.currentPath=e.path();r.isLoggedIn=o.isLoggedIn();r.currentUser=o.currentUser();r.logout=function(){o.logout();r.isLoggedIn=false;e.path("/")}}})();(function(){angular.module("mySite").controller("loginCtrl",e);e.$inject=["$location","authentication"];function e(e,t){var n=this;n.pageHeader={title:"Sign in to mySite"};n.credentials={email:"",username:"",screenname:"",password:""};n.returnPage=e.search().page||"/";n.onSubmit=function(){n.formError="";if(!n.credentials.email||!n.credentials.password){n.formError="All fields required, please try again";return false}else{n.doLogin()}};n.doLogin=function(){n.formError="";t.login(n.credentials).error(function(e){n.formError=e}).then(function(){e.search("page",null);e.path(n.returnPage)})}}})();(function(){angular.module("mySite").controller("registerCtrl",e);e.$inject=["$location","authentication"];function e(e,t){var n=this;n.pageHeader={title:"Create a new account for mySite"};n.credentials={screenname:"",username:"",email:"",password:""};n.returnPage=e.search().page||"/";n.onSubmit=function(){n.formError="";if(!t.isEmail(n.credentials.email)){n.formError="Please enter a valid email address";return false}else if(!n.credentials.screenname||!n.credentials.username||!n.credentials.email||!n.credentials.password){n.formError="All fields required, please try again";return false}else if(n.credentials.username.indexOf("@")>-1){n.formError="Please do not use the character '@' in your username";return false}else{n.doRegister()}};n.doRegister=function(){n.formError="";t.register(n.credentials).error(function(e){n.formError=e}).then(function(){e.search("page",null);e.path(n.returnPage)})}}})();(function(){angular.module("mySite").directive("pageHeader",e);function e(){return{restrict:"EA",scope:{content:"=content"},templateUrl:"/common/directives/pageHeader/pageHeader.template.html"}}})();(function(){angular.module("mySite").directive("blogList",e);function e(){return{restrict:"EA",scope:{data:"=data"},templateUrl:"/common/directives/blogList/blogList.template.html"}}})();(function(){angular.module("mySite").directive("backgroundVideo",e);function e(){return{restrict:"EA",scope:{content:"=content"},templateUrl:"/common/directives/background_video/background_video.template.html"}}})();(function(){angular.module("mySite").controller("calCtrl",e);e.$inject=["browserDetector","mySiteData"];function e(e,t){var n=this;n.pageHeader={title:"Welcome to Big Al's Calendar!",strapline:"Schedule your hearts desires"};n.clearTimes=function(){if(n.event.allDay){n.event.end=null;n.event.start=null}else{n.eventWarning=""}};var i=function(e){var t=[];e=e+"";t=e.split(" ");tz=t[5];e=t[4];t=e.split(":");t=[t[0],t[1]];e=t.join(":");tz=tz.split("GMT")[1].substr(0,3)+":00";e=e+tz;return e};n.eventSubmit=function(){var e={};n.formError="";if(!n.event.title){n.formError="Please fill out title."}if(!n.event.start&&!n.event.end){if(!n.event.allDay){n.formError="Please submit time for event."}}if(n.formError){return false}var t=n.eventDate;e.title=n.event.title;e.start=n.event.allDay?t:t+"T"+i(n.event.start);if(n.event.end&&!n.event.allDay){e.end=t+"T"+i(n.event.end)}e.allDay=n.event.allDay;n.doAddEvent(e)};n.unselect=function(){n.dateSelected=false};n.doAddEvent=function(e){n.events.push(e);if($("#lgcalendar").is(":visible")){$("#lgcalendar").fullCalendar("refetchEvents");
}else{$("#smcalendar").fullCalendar("refetchEvents")}n.unselect()};n.eventTimeWarning=function(){if(n.event.allDay){n.eventWarning="Warning: if 'All Day' is selected, other times will be ignored."}};n.alertEventOnClick=function(e,t,i){n.dateSelected=true;n.eventDate=e.format()};n.dateSelected=false;n.events=[];n.eventSources={events:function(e,t,i,o){o(n.events)}};n.uiConfig={bigcalendar:{editable:true,selectable:true,header:{left:"month basicWeek agendaDay",center:"title",right:"today prev,next"},dayClick:n.alertEventOnClick,eventDrop:n.alertOnDrop,eventResize:n.alertOnResize},smallcalendar:{editable:true,selectable:true,header:{left:"prev",center:"title",right:"next"},dayClick:n.alertEventOnClick,eventDrop:n.alertOnDrop,eventResize:n.alertOnResize,defaultView:"basicDay"}};if(e.isLtIe9()){}}})();(function(){angular.module("myCalendar",["ui.bootstrap","ui.calendar","ngRoute"]).value("bowser",bowser);function e(e,t){e.when("/calendar",{templateUrl:"/app_calendar/views/home.html",controller:"calCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"});t.html5Mode({enabled:true,requireBase:false})}angular.module("myCalendar",["mySite"]).config(["$routeProvider","$locationProvider",e])})();(function(){angular.module("mySite").controller("blogCtrl",e);e.$inject=["$routeParams","mySiteData"];function e(e,t){var n=this;n.pageHeader={title:"Welcome to Big Al's Blog!",strapline:"Where you get to hear about all my dreams!"};var i=function(e){n.blogData=e.data};var o=function(e){console.log(e);n.pageHeader={title:"error in api"}};t.blogs().then(i,o);n.goTo=function(e){$location.path("/blog/"+e)}}})();(function(){angular.module("myBlog",["ui.bootstrap","ngRoute"]).value("bowser",bowser);function e(e,t){e.when("/blog",{templateUrl:"/app_blog/views/home.html",controller:"blogCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"});t.html5Mode({enabled:true,requireBase:false})}angular.module("myBlog",["mySite"]).config(["$routeProvider","$locationProvider",e])})();angular.module("bnx.module.facebook",[]).provider("facebook",facebookProvider);facebookProvider.$inject=["$injector"];function facebookProvider(e){this.initialized=false;var t={appId:"213101342444152",status:true,cookie:true,xfbml:true,version:"v2.8"};var n={auth:["authResponseChange","statusChange","login","logout"]};var i=[];this.init=function(e){window.fbAsyncInit=function(){angular.extend(t,e);FB.init(t);this.initialized=true;console.log("Facebook initialization done.");r()}};function o(e,t,n){console.log("adding to Q: ",e);i.push([e,t,n])}var r=function(){console.log("Processing Q messages.");while(item=i.shift()){console.log("Processing: "+item[0]);func=item[0];self=item[1];args=item[2];func.apply(self,args)}};this.$get=["$rootScope","$q",function(e,t){var i=function(n){console.log("Promising");var i=t.defer();n(function(t){if(t&&t.error){i.reject(t)}else{i.resolve(t)}e.$apply()});return i.promise};var r=function(){console.log("Registering Handlers");e.$broadcast("fb.init",{});angular.forEach(n,function(t,n){console.log("There are events: "+t+", "+n);angular.forEach(t,function(t){var i="fb."+n+"."+t;console.log("Subscribing: "+i);FB.Event.subscribe(n+"."+t,function(t){e.$broadcast(i,t)})})})};var s=function(e){console.log("Executing Login Call");return i(function(t){FB.login(function(e){t(e)},e)})};var a=function(){console.log("Checking Login Status");return i(function(e){FB.getLoginStatus(function(t){e(t)})})};var l=function(e){console.log("Executing Api Call");return i(function(t){FB.api(e,function(e){t(e)})})};if(!this.initialized){console.log("Not Initialized");o(r,this,[])}else{console.log("Initialized");r()}var c=this;return{initialized:function(){return c.initialized},loginStatus:a,init:c.init,api:l,login:s}}]}(function(){angular.module("mySite").controller("socialCtrl",e);e.$inject=["$routeParams","mySiteData","facebook","$scope","$window","Fullscreen","$q"];function e(e,t,n,o,r,s,a){var l=this;l.fbData;l.fbPic;l.fbLoggedIn=true;l.fbPhotoData="Retrieving Data...";l.login=D;l.nextPic=x;l.prevPic=_;l.isFullscreen=false;l.autoPlay=false;l.toggleFullScreen=v;l.toggleAutoPlay=w;var c=[];var u=[];var f=0;var d=0;var h;var p=angular.element($("#theatre")).prop("offsetTop");var m=$(window).height();l.remainingHeight=m-p-100;var g=s.isSupported();var b=function(e){console.log("Promising");var t=a.defer();e(function(e){if(e&&e.error){t.reject(e)}else{t.resolve(e)}});return t.promise};function v(){if(g){l.isFullscreen=!l.isFullscreen}else{alert("Your browser does not support this fullscreen, please update your browser.")}}function w(){l.autoPlay=!l.autoPlay;if(l.autoPlay){y()}}function y(){var e=b(function(e){if(l.autoPlay){x()}e()});e.then(function(e){if(l.autoPlay){setTimeout(y,3e3)}},function(e){alert("FAILED: "+JSON.stringify(e))})}function S(e,t){var n=e;var o=1;for(i=0;i<n.length;i++){var r="";var s;var a;if(!n[i].message&&n[i].story){r=n[i].story}else{r=n[i].message}if(n[i].attachments!=null){if(n[i].attachments.data[0].subattachments!=null){var c=n[i].attachments.data[0].subattachments.data;for(o=0;o<c.length;o++){a=c[o].media.image.src;if(!t){u.push({message:r,attachment:a})}else{u.splice(f+o+1,0,{message:r,attachment:a})}}}else{a=n[i].attachments.data[0].media.image.src;if(!t){u.push({message:r,attachment:a})}else{u.splice(f+i+1,0,{message:r,attachment:a})}}}}l.fbPhotoData=JSON.stringify(u);if(t&&!l.autoPlay){l.fbData=u[f+1]}else if(!t){f=0;l.fbData=u[f]}}function C(){console.log("TROLLING......");var e=n.api("/1612692632367704?fields=feed{created_time,message,story,attachments}");e.then(function(e){latestGroupUpdateTime=moment(e.feed.data[0].created_time);if(h){if(h.diff(latestGroupUpdateTime)<0){var t=[];var n=0;while(h.diff(moment(e.feed.data[n].created_time))<0){t.push(e.feed.data[n]);n=n+1}S(t,true);h=latestGroupUpdateTime}else{console.log("No Updates")}}else{var t=[];for(i=e.feed.data.length-1;i>=0;i--){t.push(e.feed.data[i])}S(t,false);h=latestGroupUpdateTime}setTimeout(C,6e4)},function(e){alert("FAILED: "+JSON.stringify(e))})}function k(e){var t;var n=document.getElementById("imgDiv").clientWidth-40;for(t=0;t<e.length;t++){console.log("width: "+e[t].width+" Page W: "+n);if(e[t].width>n){continue}else{return e[t]}}return e[t]}function x(){d=d+1;f=f+1;if(u.length<=f){f=0}l.fbData=u[f]}function _(){d=d-1;f=f-1;if(f<0){f=u.length-1}l.fbData=u[f]}function P(e){var t=n.api("/"+e[d].id+"?fields=images");t.then(function(e){l.fbPic=k(e.images)},function(e){alert("FAILED: "+JSON.stringify(e))})}function E(){var e=n.api("/me/photos");e.then(function(e){c=e.data;P(c)},function(e){alert("FAILED: "+JSON.stringify(e))})}function D(){var e=n.login({scope:"public_profile,user_friends,email"});e.then(function(e){E()},function(e){alert("FAILED: "+JSON.stringify(e))})}o.$on("fb.init",function(e,t){console.log("Event: "+JSON.stringify(t));var i=n.loginStatus();i.then(function(e){if(e.status==="connected"){l.fbLoggedIn=true;C()}else{l.fbLoggedIn=false}},function(e){alert("FAILED: "+JSON.stringify(e))})});o.$on("fb.auth.login",function(e,t){l.fbLoggedIn=true;C()});l.pageHeader={title:"Welcome to Big Al's Social!",strapline:"Where you get to see social media streams!"}}})();(function(){angular.module("mySocialStream",["bnx.module.facebook","ui.bootstrap","ngRoute","ngTouch","FSAngular","toggle-switch"]).value("bowser",bowser);function e(e,t){e.when("/social",{templateUrl:"/app_social_stream/views/home.html",controller:"socialCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"});t.html5Mode({enabled:true,requireBase:false})}angular.module("mySocialStream",["mySite","bnx.module.facebook","ngTouch","FSAngular","toggle-switch"]).config(["$routeProvider","$locationProvider","facebookProvider",e])})();(function(){angular.module("bnx.module.facebook").directive("facebookLogin",e);function e(){return{restrict:"E",scope:{content:"=content",autoLogout:"@",size:"@",showFaces:"@",scope:"@"},templateUrl:"/app_social_stream/directives/facebookLogin.template.html"}}})();(function(){angular.module("bnx.module.facebook").directive("facebook",e);e.$inject=["$location","facebook"];function e(e,t){var n=document.createElement("script");n.src="//connect.facebook.net/en_US/sdk.js'";n.id="facebook-jssdk";n.async=true;return{restrict:"EA",templateUrl:"/app_social_stream/directives/facebook.template.html",scope:{content:"=content",appId:"@",parameters:"="},link:function(e,i,o){if(!t.initialized()){document.body.appendChild(n);var r=e.parameters||{};angular.extend(r,{appId:e.appId});t.init(r)}}}}})();