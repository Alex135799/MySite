!function(e,i){if(typeof module!="undefined"&&module.exports)module.exports=i();else if(typeof define=="function"&&define.amd)define(i);else this[e]=i()}("bowser",function(){var e=true;function i(i){function t(e){var t=i.match(e);return t&&t.length>1&&t[1]||""}function o(e){var t=i.match(e);return t&&t.length>1&&t[2]||""}var n=t(/(ipod|iphone|ipad)/i).toLowerCase(),r=/like android/i.test(i),a=!r&&/android/i.test(i),s=/CrOS/.test(i),l=/silk/i.test(i),d=/sailfish/i.test(i),c=/tizen/i.test(i),u=/(web|hpw)os/i.test(i),m=/windows phone/i.test(i),f=!m&&/windows/i.test(i),v=!n&&!l&&/macintosh/i.test(i),p=!a&&!d&&!c&&!u&&/linux/i.test(i),g=t(/edge\/(\d+(\.\d+)?)/i),b=t(/version\/(\d+(\.\d+)?)/i),h=/tablet/i.test(i),y=!h&&/[^-]mobi/i.test(i),w;if(/opera|opr/i.test(i)){w={name:"Opera",opera:e,version:b||t(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}}else if(/yabrowser/i.test(i)){w={name:"Yandex Browser",yandexbrowser:e,version:b||t(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}}else if(m){w={name:"Windows Phone",windowsphone:e};if(g){w.msedge=e;w.version=g}else{w.msie=e;w.version=t(/iemobile\/(\d+(\.\d+)?)/i)}}else if(/msie|trident/i.test(i)){w={name:"Internet Explorer",msie:e,version:t(/(?:msie |rv:)(\d+(\.\d+)?)/i)}}else if(s){w={name:"Chrome",chromeos:e,chromeBook:e,chrome:e,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}}else if(/chrome.+? edge/i.test(i)){w={name:"Microsoft Edge",msedge:e,version:g}}else if(/chrome|crios|crmo/i.test(i)){w={name:"Chrome",chrome:e,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}}else if(n){w={name:n=="iphone"?"iPhone":n=="ipad"?"iPad":"iPod"};if(b){w.version=b}}else if(d){w={name:"Sailfish",sailfish:e,version:t(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}}else if(/seamonkey\//i.test(i)){w={name:"SeaMonkey",seamonkey:e,version:t(/seamonkey\/(\d+(\.\d+)?)/i)}}else if(/firefox|iceweasel/i.test(i)){w={name:"Firefox",firefox:e,version:t(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)};if(/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(i)){w.firefoxos=e}}else if(l){w={name:"Amazon Silk",silk:e,version:t(/silk\/(\d+(\.\d+)?)/i)}}else if(a){w={name:"Android",version:b}}else if(/phantom/i.test(i)){w={name:"PhantomJS",phantom:e,version:t(/phantomjs\/(\d+(\.\d+)?)/i)}}else if(/blackberry|\bbb\d+/i.test(i)||/rim\stablet/i.test(i)){w={name:"BlackBerry",blackberry:e,version:b||t(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}}else if(u){w={name:"WebOS",webos:e,version:b||t(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)};/touchpad\//i.test(i)&&(w.touchpad=e)}else if(/bada/i.test(i)){w={name:"Bada",bada:e,version:t(/dolfin\/(\d+(\.\d+)?)/i)}}else if(c){w={name:"Tizen",tizen:e,version:t(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||b}}else if(/safari/i.test(i)){w={name:"Safari",safari:e,version:b}}else{w={name:t(/^(.*)\/(.*) /),version:o(/^(.*)\/(.*) /)}}if(!w.msedge&&/(apple)?webkit/i.test(i)){w.name=w.name||"Webkit";w.webkit=e;if(!w.version&&b){w.version=b}}else if(!w.opera&&/gecko\//i.test(i)){w.name=w.name||"Gecko";w.gecko=e;w.version=w.version||t(/gecko\/(\d+(\.\d+)?)/i)}if(!w.msedge&&(a||w.silk)){w.android=e}else if(n){w[n]=e;w.ios=e}else if(f){w.windows=e}else if(v){w.mac=e}else if(p){w.linux=e}var k="";if(w.windowsphone){k=t(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i)}else if(n){k=t(/os (\d+([_\s]\d+)*) like mac os x/i);k=k.replace(/[_\s]/g,".")}else if(a){k=t(/android[ \/-](\d+(\.\d+)*)/i)}else if(w.webos){k=t(/(?:web|hpw)os\/(\d+(\.\d+)*)/i)}else if(w.blackberry){k=t(/rim\stablet\sos\s(\d+(\.\d+)*)/i)}else if(w.bada){k=t(/bada\/(\d+(\.\d+)*)/i)}else if(w.tizen){k=t(/tizen[\/\s](\d+(\.\d+)*)/i)}if(k){w.osversion=k}var S=k.split(".")[0];if(h||n=="ipad"||a&&(S==3||S==4&&!y)||w.silk){w.tablet=e}else if(y||n=="iphone"||n=="ipod"||a||w.blackberry||w.webos||w.bada){w.mobile=e}if(w.msedge||w.msie&&w.version>=10||w.yandexbrowser&&w.version>=15||w.chrome&&w.version>=20||w.firefox&&w.version>=20||w.safari&&w.version>=6||w.opera&&w.version>=10||w.ios&&w.osversion&&w.osversion.split(".")[0]>=6||w.blackberry&&w.version>=10.1){w.a=e}else if(w.msie&&w.version<10||w.chrome&&w.version<20||w.firefox&&w.version<20||w.safari&&w.version<6||w.opera&&w.version<10||w.ios&&w.osversion&&w.osversion.split(".")[0]<6){w.c=e}else w.x=e;return w}var t=i(typeof navigator!=="undefined"?navigator.userAgent:"");t.test=function(e){for(var i=0;i<e.length;++i){var o=e[i];if(typeof o==="string"){if(o in t){return true}}}return false};t._detect=i;return t});(function(){angular.module("mySite",["ngRoute"]).value("bowser",bowser);function e(e,i){e.when("/",{templateUrl:"home/home.view.html",controller:"homeCtrl",controllerAs:"vm"}).when("/blog/:blogid",{templateUrl:"/blog/blog.view.html",controller:"blogCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"});i.html5Mode({enabled:true,requireBase:false})}angular.module("mySite").config(["$routeProvider","$locationProvider",e])})();(function(){angular.module("mySite").service("videoManip",e);function e(){var e=function(e){var i=angular.element(document.querySelector("#"+e));i[0].pause()};var i=function(e){var i=angular.element(document.querySelector("#"+e));i[0].play()};var t=function(e){var i=angular.element(document.querySelector("#"+e));return!i[0].paused};return{pause:e,play:i,isPlaying:t}}})();(function(){angular.module("mySite").service("browserDetector",e);e.$inject=["bowser"];function e(e){var i=function(){return e.msie&&e.version<9};var t=function(){return e.msie};return{isLtIe9:i,isIe:t}}})();(function(){angular.module("mySite").service("mySiteData",e);e.$inject=["$http"];function e(e){var i=function(){return e.get("/api/blogs")};var t=function(i){return e.get("/api/blog/"+i)};var o=function(i,t){return e.post("/api/locations/"+i+"/reviews",t,{headers:{Authorization:"Bearer "+authentication.getToken()}})};return{blogs:i,blogById:t,addReviewById:o}}})();(function(){angular.module("mySite").service("authentication",e);e.$inject=["$window","$http"];function e(e,i){var t=function(i){e.localStorage["mySite-token"]=i};var o=function(){return e.localStorage["mySite-token"]};var n=function(e){return i.post("/api/register",e).success(function(e){t(e.token)})};var r=function(e){return i.post("/api/login",e).success(function(e){t(e.token)})};var a=function(){e.localStorage.removeItem("mySite-token")};var s=function(){var i=o();if(i){var t=JSON.parse(e.atob(i.split(".")[1]));return t.exp>Date.now()/1e3}else{return false}};var l=function(){if(s()){var i=o();var t=JSON.parse(e.atob(i.split(".")[1]));return{email:t.email,name:t.name}}};return{saveToken:t,getToken:o,register:n,login:r,logout:a,isLoggedIn:s,currentUser:l}}})();(function(){angular.module("mySite").controller("homeCtrl",e);e.$inject=["$location","browserDetector","videoManip","mySiteData","authentication"];function e(e,i,t,o,n){var r=this;var a="I am getting nausious...";var s="Much Better.";r.pauseplayIcon="pause";r.pauseplayCap=a;r.pageHeader={title:"Welcome to Big Al's Site!",strapline:"Where all of my dreams come true..."};r.pauseplay=function(){var e="bgvid";if(t.isPlaying(e)){t.pause(e);r.pauseplayIcon="play";r.pauseplayCap=s}else{t.play(e);r.pauseplayIcon="pause";r.pauseplayCap=a}};r.webm="/videos/deep_blue_sky.webm";r.mp4="/videos/deep_blue_sky.mp4";r.img="/images/welcome_image.jpeg";var l=function(e){r.blogData=e.data};var d=function(e){console.log(e);r.pageHeader={title:"error in api"}};o.blogs().then(l,d);r.goTo=function(i){e.url("/blog/"+i)};r.isLoggedIn=n.isLoggedIn();if(i.isLtIe9()){}}})();(function(){angular.module("mySite").controller("blogCtrl",e);e.$inject=["$routeParams","mySiteData"];function e(e,i){var t=this;var o=e.blogid;t.pageHeader={strapline:"Getting Blog..."};var n=function(e){t.blogsData=e.data};var r=function(e){t.blogData=e.data;t.pageHeader={title:e.data.title,strapline:"Writen by: "+e.data.author+"   On: "+e.data.date_updated}};var a=function(e){console.log(e);t.pageHeader={title:"error in api"}};i.blogs().then(n,a);i.blogById(o).then(r,a)}})();(function(){angular.module("mySite").directive("pageHeader",e);function e(){return{restrict:"EA",scope:{content:"=content"},templateUrl:"/common/directives/pageHeader/pageHeader.template.html"}}})();(function(){angular.module("mySite").directive("blogList",e);function e(){return{restrict:"EA",scope:{data:"=data"},templateUrl:"/common/directives/blogList/blogList.template.html"}}})();(function(){angular.module("mySite").directive("backgroundVideo",e);function e(){return{restrict:"EA",scope:{content:"=content"},templateUrl:"/common/directives/background_video/background_video.template.html"}}})();