!function(e,o){if(typeof module!="undefined"&&module.exports)module.exports=o();else if(typeof define=="function"&&define.amd)define(o);else this[e]=o()}("bowser",function(){var e=true;function o(o){function i(e){var i=o.match(e);return i&&i.length>1&&i[1]||""}function r(e){var i=o.match(e);return i&&i.length>1&&i[2]||""}var t=i(/(ipod|iphone|ipad)/i).toLowerCase(),n=/like android/i.test(o),a=!n&&/android/i.test(o),s=/CrOS/.test(o),l=/silk/i.test(o),c=/sailfish/i.test(o),m=/tizen/i.test(o),d=/(web|hpw)os/i.test(o),u=/windows phone/i.test(o),f=!u&&/windows/i.test(o),g=!t&&!l&&/macintosh/i.test(o),v=!a&&!c&&!m&&!d&&/linux/i.test(o),p=i(/edge\/(\d+(\.\d+)?)/i),h=i(/version\/(\d+(\.\d+)?)/i),b=/tablet/i.test(o),y=!b&&/[^-]mobi/i.test(o),w;if(/opera|opr/i.test(o)){w={name:"Opera",opera:e,version:h||i(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}}else if(/yabrowser/i.test(o)){w={name:"Yandex Browser",yandexbrowser:e,version:h||i(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}}else if(u){w={name:"Windows Phone",windowsphone:e};if(p){w.msedge=e;w.version=p}else{w.msie=e;w.version=i(/iemobile\/(\d+(\.\d+)?)/i)}}else if(/msie|trident/i.test(o)){w={name:"Internet Explorer",msie:e,version:i(/(?:msie |rv:)(\d+(\.\d+)?)/i)}}else if(s){w={name:"Chrome",chromeos:e,chromeBook:e,chrome:e,version:i(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}}else if(/chrome.+? edge/i.test(o)){w={name:"Microsoft Edge",msedge:e,version:p}}else if(/chrome|crios|crmo/i.test(o)){w={name:"Chrome",chrome:e,version:i(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}}else if(t){w={name:t=="iphone"?"iPhone":t=="ipad"?"iPad":"iPod"};if(h){w.version=h}}else if(c){w={name:"Sailfish",sailfish:e,version:i(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}}else if(/seamonkey\//i.test(o)){w={name:"SeaMonkey",seamonkey:e,version:i(/seamonkey\/(\d+(\.\d+)?)/i)}}else if(/firefox|iceweasel/i.test(o)){w={name:"Firefox",firefox:e,version:i(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)};if(/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(o)){w.firefoxos=e}}else if(l){w={name:"Amazon Silk",silk:e,version:i(/silk\/(\d+(\.\d+)?)/i)}}else if(a){w={name:"Android",version:h}}else if(/phantom/i.test(o)){w={name:"PhantomJS",phantom:e,version:i(/phantomjs\/(\d+(\.\d+)?)/i)}}else if(/blackberry|\bbb\d+/i.test(o)||/rim\stablet/i.test(o)){w={name:"BlackBerry",blackberry:e,version:h||i(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}}else if(d){w={name:"WebOS",webos:e,version:h||i(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)};/touchpad\//i.test(o)&&(w.touchpad=e)}else if(/bada/i.test(o)){w={name:"Bada",bada:e,version:i(/dolfin\/(\d+(\.\d+)?)/i)}}else if(m){w={name:"Tizen",tizen:e,version:i(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||h}}else if(/safari/i.test(o)){w={name:"Safari",safari:e,version:h}}else{w={name:i(/^(.*)\/(.*) /),version:r(/^(.*)\/(.*) /)}}if(!w.msedge&&/(apple)?webkit/i.test(o)){w.name=w.name||"Webkit";w.webkit=e;if(!w.version&&h){w.version=h}}else if(!w.opera&&/gecko\//i.test(o)){w.name=w.name||"Gecko";w.gecko=e;w.version=w.version||i(/gecko\/(\d+(\.\d+)?)/i)}if(!w.msedge&&(a||w.silk)){w.android=e}else if(t){w[t]=e;w.ios=e}else if(f){w.windows=e}else if(g){w.mac=e}else if(v){w.linux=e}var k="";if(w.windowsphone){k=i(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i)}else if(t){k=i(/os (\d+([_\s]\d+)*) like mac os x/i);k=k.replace(/[_\s]/g,".")}else if(a){k=i(/android[ \/-](\d+(\.\d+)*)/i)}else if(w.webos){k=i(/(?:web|hpw)os\/(\d+(\.\d+)*)/i)}else if(w.blackberry){k=i(/rim\stablet\sos\s(\d+(\.\d+)*)/i)}else if(w.bada){k=i(/bada\/(\d+(\.\d+)*)/i)}else if(w.tizen){k=i(/tizen[\/\s](\d+(\.\d+)*)/i)}if(k){w.osversion=k}var S=k.split(".")[0];if(b||t=="ipad"||a&&(S==3||S==4&&!y)||w.silk){w.tablet=e}else if(y||t=="iphone"||t=="ipod"||a||w.blackberry||w.webos||w.bada){w.mobile=e}if(w.msedge||w.msie&&w.version>=10||w.yandexbrowser&&w.version>=15||w.chrome&&w.version>=20||w.firefox&&w.version>=20||w.safari&&w.version>=6||w.opera&&w.version>=10||w.ios&&w.osversion&&w.osversion.split(".")[0]>=6||w.blackberry&&w.version>=10.1){w.a=e}else if(w.msie&&w.version<10||w.chrome&&w.version<20||w.firefox&&w.version<20||w.safari&&w.version<6||w.opera&&w.version<10||w.ios&&w.osversion&&w.osversion.split(".")[0]<6){w.c=e}else w.x=e;return w}var i=o(typeof navigator!=="undefined"?navigator.userAgent:"");i.test=function(e){for(var o=0;o<e.length;++o){var r=e[o];if(typeof r==="string"){if(r in i){return true}}}return false};i._detect=o;return i});(function(){angular.module("mySite",["mwl.calendar","ngRoute"]).value("bowser",bowser);function e(e,o){e.when("/",{templateUrl:"home/home.view.html",controller:"homeCtrl",controllerAs:"vm"}).when("/blog/:blogid",{templateUrl:"/blog/blog.view.html",controller:"blogCtrl",controllerAs:"vm"}).when("/login",{templateUrl:"/auth/login/login.view.html",controller:"loginCtrl",controllerAs:"vm"}).when("/register",{templateUrl:"/auth/register/register.view.html",controller:"registerCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"});o.html5Mode({enabled:true,requireBase:false})}angular.module("mySite").config(["$routeProvider","$locationProvider",e])})();(function(){angular.module("mySite").service("videoManip",e);function e(){var e=function(e){var o=angular.element(document.querySelector("#"+e));o[0].pause()};var o=function(e){var o=angular.element(document.querySelector("#"+e));o[0].play()};var i=function(e){var o=angular.element(document.querySelector("#"+e));return!o[0].paused};return{pause:e,play:o,isPlaying:i}}})();(function(){angular.module("mySite").service("browserDetector",e);e.$inject=["bowser"];function e(e){var o=function(){return e.msie&&e.version<9};var i=function(){return e.msie};return{isLtIe9:o,isIe:i}}})();(function(){angular.module("mySite").service("mySiteData",e);e.$inject=["$http"];function e(e){var o=function(){return e.get("/api/blogs")};var i=function(o){return e.get("/api/blog/"+o)};var r=function(o,i){return e.post("/api/locations/"+o+"/reviews",i,{headers:{Authorization:"Bearer "+authentication.getToken()}})};return{blogs:o,blogById:i,addReviewById:r}}})();(function(){angular.module("mySite").service("authentication",e);e.$inject=["$window","$http"];function e(e,o){var i=function(o){e.localStorage["mySite-token"]=o};var r=function(){return e.localStorage["mySite-token"]};var t=function(e){return o.post("/api/register",e).success(function(e){i(e.token)})};var n=function(e){return o.post("/api/login",e).success(function(e){i(e.token)})};var a=function(){e.localStorage.removeItem("mySite-token")};var s=function(){var o=r();if(o){var i=JSON.parse(e.atob(o.split(".")[1]));return i.exp>Date.now()/1e3}else{return false}};var l=function(){if(s()){var o=r();var i=JSON.parse(e.atob(o.split(".")[1]));return{email:i.email,name:i.name}}};var c=function(e){var o=["aol.com","att.net","comcast.net","facebook.com","gmail.com","gmx.com","googlemail.com","google.com","hotmail.com","hotmail.co.uk","mac.com","me.com","mail.com","msn.com","live.com","sbcglobal.net","verizon.net","yahoo.com","yahoo.co.uk","email.com","games.com","gmx.net","hush.com","hushmail.com","icloud.com","inbox.com","lavabit.com","love.com","outlook.com","pobox.com","rocketmail.com","safe-mail.net","wow.com","ygm.com","ymail.com","zoho.com","fastmail.fm","bellsouth.net","charter.net","comcast.net","cox.net","earthlink.net","juno.com","btinternet.com","virginmedia.com","blueyonder.co.uk","freeserve.co.uk","live.co.uk","ntlworld.com","o2.co.uk","orange.net","sky.com","talktalk.co.uk","tiscali.co.uk","virgin.net","wanadoo.co.uk","bt.com","sina.com","qq.com","naver.com","hanmail.net","daum.net","nate.com","yahoo.co.jp","yahoo.co.kr","yahoo.co.id","yahoo.co.in","yahoo.com.sg","yahoo.com.ph","hotmail.fr","live.fr","laposte.net","yahoo.fr","wanadoo.fr","orange.fr","gmx.fr","sfr.fr","neuf.fr","free.fr","gmx.de","hotmail.de","live.de","online.de","t-online.de","web.de","yahoo.de","mail.ru","rambler.ru","yandex.ru","ya.ru","list.ru","hotmail.be","live.be","skynet.be","voo.be","tvcablenet.be","telenet.be","hotmail.com.ar","live.com.ar","yahoo.com.ar","fibertel.com.ar","speedy.com.ar","arnet.com.ar","hotmail.com","gmail.com","yahoo.com.mx","live.com.mx","yahoo.com","hotmail.es","live.com","hotmail.com.mx","prodigy.net.mx","msn.com"];return e.indexOf("@")>0&&e.indexOf("@")<e.length&&e.indexOf(".")>0&&e.indexOf(".")<e.length&&o.indexOf(e.split("@")[1])>-1};return{saveToken:i,getToken:r,register:t,login:n,logout:a,isLoggedIn:s,currentUser:l,isEmail:c}}})();(function(){angular.module("mySite").controller("homeCtrl",e);e.$inject=["$location","browserDetector","videoManip","mySiteData","authentication"];function e(e,o,i,r,t){var n=this;var a="I am getting nausious...";var s="Much Better.";n.pauseplayIcon="pause";n.pauseplayCap=a;n.pageHeader={title:"Welcome to Big Al's Site!",strapline:"Where all of my dreams come true..."};n.pauseplay=function(){var e="bgvid";if(i.isPlaying(e)){i.pause(e);n.pauseplayIcon="play";n.pauseplayCap=s}else{i.play(e);n.pauseplayIcon="pause";n.pauseplayCap=a}};n.webm="/videos/deep_blue_sky.webm";n.mp4="/videos/deep_blue_sky.mp4";n.img="/images/welcome_image.jpeg";var l=function(e){n.blogData=e.data};var c=function(e){console.log(e);n.pageHeader={title:"error in api"}};r.blogs().then(l,c);n.goTo=function(o){e.path("/blog/"+o)};n.currentPath=e.path();n.isLoggedIn=t.isLoggedIn();n.currentUser=t.currentUser();n.logout=function(){t.logout();n.isLoggedIn=false;e.path("/")};n.calendarView="month";n.calendarDate=new Date(2016,3,17);n.calendarTitle="Big Al's Title";n.events=[];if(o.isLtIe9()){}}})();(function(){angular.module("mySite").controller("loginCtrl",e);e.$inject=["$location","authentication"];function e(e,o){var i=this;i.pageHeader={title:"Sign in to mySite"};i.credentials={email:"",username:"",screenname:"",password:""};i.returnPage=e.search().page||"/";i.onSubmit=function(){i.formError="";if(!i.credentials.email||!i.credentials.password){i.formError="All fields required, please try again";return false}else{i.doLogin()}};i.doLogin=function(){i.formError="";o.login(i.credentials).error(function(e){i.formError=e}).then(function(){e.search("page",null);e.path(i.returnPage)})}}})();(function(){angular.module("mySite").controller("registerCtrl",e);e.$inject=["$location","authentication"];function e(e,o){var i=this;i.pageHeader={title:"Create a new account for mySite"};i.credentials={screenname:"",username:"",email:"",password:""};i.returnPage=e.search().page||"/";i.onSubmit=function(){i.formError="";if(!o.isEmail(i.credentials.email)){i.formError="Please enter a valid email address";return false}else if(!i.credentials.screenname||!i.credentials.username||!i.credentials.email||!i.credentials.password){i.formError="All fields required, please try again";return false}else if(i.credentials.username.indexOf("@")>-1){i.formError="Please do not use the character '@' in your username";return false}else{i.doRegister()}};i.doRegister=function(){i.formError="";o.register(i.credentials).error(function(e){i.formError=e}).then(function(){e.search("page",null);e.path(i.returnPage)})}}})();(function(){angular.module("mySite").controller("blogCtrl",e);e.$inject=["$routeParams","mySiteData"];function e(e,o){var i=this;var r=e.blogid;i.pageHeader={strapline:"Getting Blog..."};var t=function(e){i.blogsData=e.data};var n=function(e){i.blogData=e.data;i.pageHeader={title:e.data.title,strapline:"Writen by: "+e.data.author+"   On: "+e.data.date_updated}};var a=function(e){console.log(e);i.pageHeader={title:"error in api"}};o.blogs().then(t,a);o.blogById(r).then(n,a)}})();(function(){angular.module("mySite").directive("pageHeader",e);function e(){return{restrict:"EA",scope:{content:"=content"},templateUrl:"/common/directives/pageHeader/pageHeader.template.html"}}})();(function(){angular.module("mySite").directive("blogList",e);function e(){return{restrict:"EA",scope:{data:"=data"},templateUrl:"/common/directives/blogList/blogList.template.html"}}})();(function(){angular.module("mySite").directive("backgroundVideo",e);function e(){return{restrict:"EA",scope:{content:"=content"},templateUrl:"/common/directives/background_video/background_video.template.html"}}})();